<app-header titulo="Mantenimientos"></app-header>

<ion-content>
    <ion-segment (ionChange)="segmentChanged($event)" value="recientes">
        <ion-segment-button value="recientes">
          <ion-label>Recientes</ion-label>
        </ion-segment-button>
        <ion-segment-button value="todos">
          <ion-label>Todos</ion-label>
        </ion-segment-button>
    </ion-segment>

    <ion-grid fixed>
        <ion-row>
          <ion-col size="4">
            <ion-input (ionChange)="buscar($event)" showCancelButton="always" placeholder="Buscar...">
              <ion-icon name="search"></ion-icon>
            </ion-input>
          </ion-col>
          <ion-col size="8">
            <ion-chip color="primary" (click)="equipo()">
              <ion-label>Equip</ion-label>
            </ion-chip>
            <ion-chip color="primary" (click)="servicio()">
              <ion-label>Servi</ion-label>
            </ion-chip>
            <ion-chip color="primary" (click)="fecha()">
              <ion-label>Fecha</ion-label>
            </ion-chip>
          </ion-col>
        </ion-row>
    </ion-grid>


    <ion-list>
        <ion-item-sliding #lista *ngFor="let mto of dato$ | async | filtro: textBuscar: columna">
          <ion-item>
            <ion-label>
              <h2>Vehiculo/
                <br>Equipo:
                 {{ mto.equipo }}
              </h2>
              <h3>Servicio: {{ mto.tipo_servicio }}</h3>
            </ion-label>
            <ion-label slot="end" text-right>
              <h2>Fecha: {{ mto.fecha }}</h2>
              
            </ion-label>
          </ion-item>
    
          <ion-item-options side="start" *ngIf="usuario['tuserint'] != 2">
            <ion-item-option  routerLink="/editarmtto/{{ mto.id }}">
              <ion-icon name="create-outline" slot="icon-only"></ion-icon>
            </ion-item-option>
          </ion-item-options>

          <ion-item-options side="end">
            <ion-item-option color="warning"  routerLink="/observarmtto/{{ mto.id }}">
              <ion-icon name="eye-outline" slot="icon-only"></ion-icon>
            </ion-item-option>
          </ion-item-options>
    
        </ion-item-sliding>
    
    </ion-list>

</ion-content>
